# ğŸ“± WhatsApp Conversation Flow Examples

## Example 1: Complete Purchase Flow

### Customer Opens Chat
```
ğŸ‘¤ Customer: Hi
```

### Bot Responds with Menu
```
ğŸ¤– Your Store:

Welcome to Our Store, Customer! ğŸ‘‹

What would you like to do today?

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›ï¸ Browse Products    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¦ Track My Order     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¬ Contact Support    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Customer Browses Products
```
ğŸ‘¤ Customer: [Clicks "Browse Products"]
```

### Bot Shows Product Catalog
```
ğŸ¤– Your Store:

ğŸ›ï¸ Here are our available products:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“± Premium Cotton T-Shirt      â”‚
â”‚ â‚¹599 - Comfortable 100% cot...â”‚
â”‚ [View Details]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ§ Wireless Bluetooth Headph...â”‚
â”‚ â‚¹2,999 - High-quality wirele...â”‚
â”‚ [View Details]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’§ Stainless Steel Water Bot...â”‚
â”‚ â‚¹799 - Eco-friendly insulate...â”‚
â”‚ [View Details]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[View Products] â–¼
```

### Customer Selects Product
```
ğŸ‘¤ Customer: [Selects "Premium Cotton T-Shirt"]
```

### Bot Shows Product Image & Variants
```
ğŸ¤– Your Store:

[Product Image: T-Shirt]

ğŸ“¦ Premium Cotton T-Shirt

Comfortable 100% cotton t-shirt, perfect for everyday wear

Please select a variant:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Black - S                      â”‚
â”‚ â‚¹599 - Stock: 45               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Black - M                      â”‚
â”‚ â‚¹599 - Stock: 38               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Black - L                      â”‚
â”‚ â‚¹599 - Stock: 52               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
...

[Select Variant] â–¼
```

### Customer Selects Variant
```
ğŸ‘¤ Customer: [Selects "Black - M"]
```

### Bot Confirms & Asks Quantity
```
ğŸ¤– Your Store:

âœ… Selected: Black - M
ğŸ’° Price: â‚¹599
ğŸ“¦ Available: 38 units

How many would you like to order? (Enter a number)
```

### Customer Enters Quantity
```
ğŸ‘¤ Customer: 2
```

### Bot Shows Order Summary
```
ğŸ¤– Your Store:

ğŸ“‹ *Order Summary*
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“¦ Product: Premium Cotton T-Shirt
ğŸ¨ Variant: Black - M
ğŸ“Š Quantity: 2
ğŸ’° Price per unit: â‚¹599
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’µ *Total Amount: â‚¹1,198*

Please confirm your order:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Confirm Order      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âŒ Cancel             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Customer Confirms
```
ğŸ‘¤ Customer: [Clicks "Confirm Order"]
```

### Bot Creates Order & Sends Payment Link
```
ğŸ¤– Your Store:

ğŸ‰ *Order Confirmed!*

Order Number: ORD-1767674800123-456
ğŸ’° Amount: â‚¹1,198

ğŸ“± Please complete payment:
https://rzp.io/l/abc123xyz

Once payment is confirmed, we'll process your order immediately!
```

### Customer Pays
```
ğŸ‘¤ Customer: [Clicks payment link, completes payment]
```

### Bot Sends Confirmation (After Webhook)
```
ğŸ¤– Your Store:

âœ… *Payment Successful!*

ğŸ‰ Thank you for your payment!

Order Number: ORD-1767674800123-456
ğŸ’° Amount: â‚¹1,198

Your order is being processed and will be shipped soon. We'll notify you once it's on the way! ğŸ“¦
```

---

## Example 2: Order Tracking

### Customer Checks Order
```
ğŸ‘¤ Customer: Hi
```

### Bot Shows Menu
```
ğŸ¤– Your Store:

Welcome back, Customer! ğŸ‘‹

[Menu buttons...]
```

### Customer Tracks Order
```
ğŸ‘¤ Customer: [Clicks "Track My Order"]
```

### Bot Shows Order History
```
ğŸ¤– Your Store:

ğŸ“¦ *Your Recent Orders:*

1. Order #ORD-1767674800123-456
   Premium Cotton T-Shirt (Black - M)
   Status: ğŸ’³ PAID
   Amount: â‚¹1,198

2. Order #ORD-1767600000000-123
   Wireless Bluetooth Headphones (Black)
   Status: ğŸšš SHIPPED
   Amount: â‚¹2,999

3. Order #ORD-1767500000000-789
   Stainless Steel Water Bottle (500ml)
   Status: ğŸ“¬ DELIVERED
   Amount: â‚¹799
```

---

## Example 3: Product Without Variants

### Customer Selects Simple Product
```
ğŸ‘¤ Customer: [Selects "Leather Wallet"]
```

### Bot Shows Product & Asks Quantity
```
ğŸ¤– Your Store:

[Product Image: Wallet]

ğŸ“¦ Leather Wallet
ğŸ’° Price: â‚¹1,299

Genuine leather wallet with multiple card slots

How many would you like to order? (Enter a number)
```

### Customer Orders
```
ğŸ‘¤ Customer: 1
```

### Bot Shows Summary
```
ğŸ¤– Your Store:

ğŸ“‹ *Order Summary*
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“¦ Product: Leather Wallet
ğŸ“Š Quantity: 1
ğŸ’° Price per unit: â‚¹1,299
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’µ *Total Amount: â‚¹1,299*

[Confirm/Cancel buttons...]
```

---

## Example 4: Out of Stock

### Customer Selects Variant
```
ğŸ‘¤ Customer: [Selects variant with 0 stock]
```

### Bot Notifies
```
ğŸ¤– Your Store:

ğŸ˜” Sorry, this variant is out of stock. Please select another one.
```

---

## Example 5: Invalid Quantity

### Customer Enters Invalid Number
```
ğŸ‘¤ Customer: abc
```

### Bot Asks Again
```
ğŸ¤– Your Store:

âŒ Please enter a valid quantity (number greater than 0).
```

---

## Example 6: Quantity Exceeds Stock

### Customer Enters Too Many
```
ğŸ‘¤ Customer: 100
```

### Bot Notifies
```
ğŸ¤– Your Store:

âŒ Sorry, only 38 units available. Please enter a smaller quantity.
```

---

## Example 7: Contact Support

### Customer Needs Help
```
ğŸ‘¤ Customer: [Clicks "Contact Support"]
```

### Bot Provides Contact Info
```
ğŸ¤– Your Store:

ğŸ“ Support Contact:

Phone: +91 9443856913
Email: support@yourstore.com

Our team will assist you shortly!
```

---

## Example 8: Order Cancellation

### Customer Cancels During Order
```
ğŸ‘¤ Customer: [Clicks "Cancel" on order summary]
```

### Bot Confirms
```
ğŸ¤– Your Store:

âŒ Order cancelled. Type "hi" to start again.
```

---

## Admin Notifications

When orders are placed, the admin sees them in real-time on the dashboard:

### Admin Panel Updates
```
Dashboard â†’ Recent Orders:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Order #ORD-1767674800123-456                        â”‚
â”‚ Customer: +91 9443856913                             â”‚
â”‚ Product: Premium Cotton T-Shirt (Black - M)         â”‚
â”‚ Amount: â‚¹1,198                                      â”‚
â”‚ Status: [PAID] âœ…                                   â”‚
â”‚ Date: 06/01/2026, 10:30 AM                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin Can Update Status
```
Orders Page â†’ Select order â†’ Update status:
- Pending â†’ Confirmed â†’ Paid â†’ Shipped â†’ Delivered
```

---

## Technical Flow

### Behind the Scenes

1. **Customer sends message** â†’ WhatsApp Cloud API
2. **Webhook triggers** â†’ Backend receives POST request
3. **Backend processes** â†’ Checks conversation state
4. **Database query** â†’ Fetches products/orders
5. **Response generated** â†’ Creates interactive message
6. **WhatsApp API call** â†’ Sends message to customer
7. **Customer sees response** â†’ In their WhatsApp app

### Payment Flow

1. **Order confirmed** â†’ Backend creates Razorpay order
2. **Payment link generated** â†’ Razorpay API
3. **Link sent to customer** â†’ Via WhatsApp
4. **Customer pays** â†’ Razorpay payment page
5. **Webhook triggered** â†’ Razorpay â†’ Backend
6. **Order updated** â†’ Status changed to "paid"
7. **Confirmation sent** â†’ Via WhatsApp

---

## Message Types Used

### Text Messages
```javascript
await whatsapp.sendTextMessage(phone, "Hello!");
```

### Interactive Buttons
```javascript
await whatsapp.sendInteractiveButtons(phone, "Choose:", [
  { id: 'btn1', title: 'Option 1' },
  { id: 'btn2', title: 'Option 2' }
]);
```

### Interactive Lists
```javascript
await whatsapp.sendInteractiveList(phone, "Select product:", "View", [{
  title: 'Products',
  rows: [
    { id: 'p1', title: 'Product 1', description: 'â‚¹599' }
  ]
}]);
```

### Images
```javascript
await whatsapp.sendImageMessage(phone, imageUrl, "Caption");
```

---

This is how your WhatsApp Commerce platform will work once you configure the WhatsApp Business API! ğŸš€
